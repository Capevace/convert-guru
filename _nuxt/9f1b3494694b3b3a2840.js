(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{153:function(t,e,n){var content=n(159);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(43).default)("6759f5ab",content,!0,{sourceMap:!1})},154:function(t,e,n){"use strict";var r=n(19),o={components:{Logo:Object(r.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{version:"1.0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1770 2080"}},[e("g",{attrs:{stroke:"none"}},[e("path",{attrs:{d:"M839 2044 c-18 -20 -72 -70 -119 -111 -47 -41 -107 -101 -135 -133 -64 -75 -222 -197 -280 -217 -25 -8 -62 -30 -82 -49 -35 -33 -35 -35 -31 -95 5 -68 21 -89 70 -89 23 0 28 4 28 24 0 36 10 56 29 56 36 -1 105 -43 183 -111 127 -112 134 -114 383 -114 l211 0 57 35 c32 19 89 61 129 93 91 74 116 87 173 87 l46 0 -20 -26 c-31 -40 -27 -47 24 -42 65 8 75 20 75 93 0 59 -2 65 -35 93 -21 19 -63 39 -105 52 -67 20 -72 24 -122 91 -35 47 -105 114 -217 208 -91 76 -177 150 -190 165 -14 14 -27 26 -31 26 -3 0 -22 -16 -41 -36z m187 -559 c7 -19 14 -39 14 -45 0 -6 -50 -10 -140 -10 -125 0 -140 2 -149 18 -11 21 -4 62 11 62 5 0 30 -14 55 -31 25 -17 55 -31 68 -31 12 0 44 16 71 36 27 19 50 36 52 36 2 0 10 -16 18 -35z"}}),this._v(" "),e("path",{attrs:{d:"M345 1391 c-19 -32 -38 -111 -50 -219 -17 -141 -16 -140 -133 -255 -122 -120 -170 -229 -159 -366 16 -215 194 -396 488 -496 104 -36 241 -55 400 -55 213 0 360 32 539 117 81 39 108 59 182 133 114 114 150 185 156 310 7 169 -68 304 -246 441 -32 25 -33 27 -42 137 -11 133 -28 225 -46 249 -12 17 -15 17 -61 -7 l-48 -25 0 -55 c0 -30 2 -127 5 -214 l5 -159 -80 -30 c-120 -43 -209 -57 -368 -57 -164 1 -261 16 -367 57 l-75 29 4 210 4 210 -36 27 c-37 28 -61 34 -72 18z m1269 -681 c16 -34 21 -65 21 -130 0 -108 -16 -142 -111 -237 -58 -57 -92 -81 -175 -122 -135 -66 -233 -91 -386 -98 -97 -5 -137 -2 -193 11 -209 51 -380 168 -447 305 -52 104 -32 238 49 335 l24 29 144 -48 c254 -85 323 -130 433 -285 60 -85 79 -100 105 -84 46 29 9 128 -93 247 l-66 77 55 0 c129 0 306 50 456 130 l55 29 54 -56 c30 -32 63 -78 75 -103z"}}),this._v(" "),e("path",{attrs:{d:"M595 1063 c-11 -2 -30 -6 -42 -9 -25 -5 -31 -32 -11 -52 8 -8 58 -12 161 -12 167 0 178 6 87 53 -42 21 -66 27 -114 26 -34 -1 -70 -3 -81 -6z"}}),this._v(" "),e("path",{attrs:{d:"M1025 1063 c-25 -6 -65 -42 -65 -60 0 -7 12 -16 26 -19 28 -7 275 4 284 13 9 9 -51 50 -90 62 -37 11 -117 13 -155 4z"}})])])}),[],!1,null,null,null).exports}},l=Object(r.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"w-full flex justify-between items-center py-8"},[e("nuxt-link",{staticClass:"font-semibold text-2xl flex",attrs:{to:"/"}},[e("Logo",{staticClass:"w-8 fill-current text-white mr-2 text-center"}),this._v("\n\t\tConvertGuru\n\t")],1),this._v(" "),e("nav",{staticClass:"text-xs font-bold"},[e("nuxt-link",{staticClass:"mr-10",attrs:{to:"/how-it-works"}},[this._v("HOW IT WORKS")])],1)],1)}),[],!1,null,null,null);e.a=l.exports},155:function(t,e,n){var r=n(6),o=n(77),l=n(41),c=n(5),h=n(9),d=n(10),f=n(156),v=(n(4).Reflect||{}).construct,m=d((function(){function t(){}return!(v((function(){}),[],t)instanceof t)})),y=!d((function(){v((function(){}))}));r(r.S+r.F*(m||y),"Reflect",{construct:function(t,e){l(t),c(e);var n=arguments.length<3?t:l(arguments[2]);if(y&&!m)return v(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(f.apply(t,r))}var d=n.prototype,w=o(h(d)?d:Object.prototype),x=Function.apply.call(t,w,e);return h(x)?x:w}})},156:function(t,e,n){"use strict";var r=n(41),o=n(9),l=n(105),c=[].slice,h={},d=function(t,e,n){if(!(e in h)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";h[e]=Function("F,a","return new F("+r.join(",")+")")}return h[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=c.call(arguments,1),h=function(){var r=n.concat(c.call(arguments));return this instanceof h?d(e,r.length,r):l(e,r,t)};return o(e.prototype)&&(h.prototype=e.prototype),h}},157:function(t,e,n){t.exports=function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){var n,r,a={}.hasOwnProperty,o=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};n=i(1).EventEmitter,i(2),r=function(t){function e(t){var e,n,r;for(n in this.running=!1,this.options={},this.frames=[],this.groups=new Map,this.freeWorkers=[],this.activeWorkers=[],this.setOptions(t),i)r=i[n],null==(e=this.options)[n]&&(e[n]=r)}var i,n;return function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),i={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1},n={delay:500,copy:!1},e.prototype.setOption=function(t,e){if(this.options[t]=e,null!=this._canvas&&("width"===t||"height"===t))return this._canvas[t]=e},e.prototype.setOptions=function(t){var e,i,n;for(e in i=[],t)a.call(t,e)&&(n=t[e],i.push(this.setOption(e,n)));return i},e.prototype.addFrame=function(t,e){var i,r,s;for(s in null==e&&(e={}),(i={}).transparent=this.options.transparent,n)i[s]=e[s]||n[s];if(null==this.options.width&&this.setOption("width",t.width),null==this.options.height&&this.setOption("height",t.height),"undefined"!=typeof ImageData&&null!==ImageData&&t instanceof ImageData)i.data=t.data;else if("undefined"!=typeof CanvasRenderingContext2D&&null!==CanvasRenderingContext2D&&t instanceof CanvasRenderingContext2D||"undefined"!=typeof WebGLRenderingContext&&null!==WebGLRenderingContext&&t instanceof WebGLRenderingContext)e.copy?i.data=this.getContextData(t):i.context=t;else{if(null==t.childNodes)throw new Error("Invalid image");e.copy?i.data=this.getImageData(t):i.image=t}return(r=this.frames.length)>0&&i.data&&(this.groups.has(i.data)?this.groups.get(i.data).push(r):this.groups.set(i.data,[r])),this.frames.push(i)},e.prototype.render=function(){var t,i,e;if(this.running)throw new Error("Already running");if(null==this.options.width||null==this.options.height)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=function(){var t,i,e;for(e=[],t=0,i=this.frames.length;0<=i?t<i:t>i;0<=i?++t:--t)e.push(null);return e}.call(this),i=this.spawnWorkers(),!0===this.options.globalPalette)this.renderNextFrame();else for(t=0,e=i;0<=e?t<e:t>e;0<=e?++t:--t)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},e.prototype.abort=function(){for(var t;null!=(t=this.activeWorkers.shift());)this.log("killing active worker"),t.terminate();return this.running=!1,this.emit("abort")},e.prototype.spawnWorkers=function(){var t,e,i;return t=Math.min(this.options.workers,this.frames.length),function(){i=[];for(var n=e=this.freeWorkers.length;e<=t?n<t:n>t;e<=t?n++:n--)i.push(n);return i}.apply(this).forEach(function(t){return function(e){var i;return t.log("spawning worker "+e),(i=new Worker(t.options.workerScript)).onmessage=function(e){return t.activeWorkers.splice(t.activeWorkers.indexOf(i),1),t.freeWorkers.push(i),t.frameFinished(e.data,!1)},t.freeWorkers.push(i)}}(this)),t},e.prototype.frameFinished=function(t,e){var n,r,s,l;if(this.finishedFrames++,e?(n=this.frames.indexOf(t),r=this.groups.get(t.data)[0],this.log("frame "+(n+1)+" is duplicate of "+r+" - "+this.activeWorkers.length+" active"),this.imageParts[n]={indexOfFirstInGroup:r}):(this.log("frame "+(t.index+1)+" finished - "+this.activeWorkers.length+" active"),this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[t.index]=t),!0===this.options.globalPalette&&!e&&(this.options.globalPalette=t.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(s=1,l=this.freeWorkers.length;1<=l?s<l:s>l;1<=l?++s:--s)this.renderNextFrame();return o.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},e.prototype.finishRendering=function(){var t,e,i,n,r,s,o,a,l,c,h,p,u,d,f,g,v,m,y,w;for(r=s=0,c=(v=this.imageParts).length;s<c;r=++s)(e=v[r]).indexOfFirstInGroup&&(this.imageParts[r]=this.imageParts[e.indexOfFirstInGroup]);for(l=0,o=0,h=(m=this.imageParts).length;o<h;o++)l+=((e=m[o]).data.length-1)*e.pageSize+e.cursor;for(l+=e.pageSize-e.cursor,this.log("rendering finished - filesize "+Math.round(l/1e3)+"kb"),t=new Uint8Array(l),f=0,a=0,p=(y=this.imageParts).length;a<p;a++)for(i=d=0,u=(w=(e=y[a]).data).length;d<u;i=++d)g=w[i],t.set(g,f),f+=i===e.data.length-1?e.cursor:e.pageSize;return n=new Blob([t],{type:"image/gif"}),this.emit("finished",n,t)},e.prototype.renderNextFrame=function(){var t,e,i,n;if(0===this.freeWorkers.length)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return t=this.frames[this.nextFrame++],(e=this.frames.indexOf(t))>0&&this.groups.has(t.data)&&this.groups.get(t.data)[0]!==e?void setTimeout(function(e){return function(){return e.frameFinished(t,!0)}}(this),0):(n=this.freeWorkers.shift(),i=this.getTask(t),this.log("starting frame "+(i.index+1)+" of "+this.frames.length),this.activeWorkers.push(n),n.postMessage(i))},e.prototype.getContextData=function(t){return t.getImageData(0,0,this.options.width,this.options.height).data},e.prototype.getImageData=function(t){var e;return null==this._canvas&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),(e=this._canvas.getContext("2d")).setFill=this.options.background,e.fillRect(0,0,this.options.width,this.options.height),e.drawImage(t,0,0),this.getContextData(e)},e.prototype.getTask=function(t){var e,i;if(i={index:e=this.frames.indexOf(t),last:e===this.frames.length-1,delay:t.delay,transparent:t.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:!0},null!=t.data)i.data=t.data;else if(null!=t.context)i.data=this.getContextData(t.context);else{if(null==t.image)throw new Error("Invalid frame");i.data=this.getImageData(t.image)}return i},e.prototype.log=function(t){if(this.options.debug)return console.log(t)},e}(n),t.exports=r},function(t,e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function s(t){return"object"==typeof t&&null!==t}function r(t){return void 0===t}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,i,o,a,l,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var h=new Error('Uncaught, unspecified "error" event. ('+e+")");throw h.context=e,h}if(r(i=this._events[t]))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),i.apply(this,a)}else if(s(i))for(a=Array.prototype.slice.call(arguments,1),o=(c=i.slice()).length,l=0;l<o;l++)c[l].apply(this,a);return!0},i.prototype.addListener=function(t,e){var o;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(o=r(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var r=!1;return i.listener=e,this.on(t,i),this},i.prototype.removeListener=function(t,e){var i,r,o,a;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(o=(i=this._events[t]).length,r=-1,i===e||n(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(i)){for(a=o;a-- >0;)if(i[a]===e||i[a].listener&&i[a].listener===e){r=a;break}if(r<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n(i=this._events[t]))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e){var i,n,r,s,o;o=navigator.userAgent.toLowerCase(),s=navigator.platform.toLowerCase(),r="ie"===(i=o.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0])[1]&&document.documentMode,(n={name:"version"===i[1]?i[3]:i[1],version:r||parseFloat("opera"===i[1]&&i[4]?i[4]:i[2]),platform:{name:o.match(/ip(?:ad|od|hone)/)?"ios":(o.match(/(?:webos|android)/)||s.match(/mac|win|linux/)||["other"])[0]}})[n.name]=!0,n[n.name+parseInt(n.version,10)]=!0,n.platform[n.platform.name]=!0,t.exports=n}])},158:function(t,e,n){"use strict";var r=n(153);n.n(r).a},159:function(t,e,n){(e=n(42)(!1)).push([t.i,".container{margin:0 auto;min-height:100vh;display:flex;justify-content:center;align-items:center;text-align:center}.title{font-family:Quicksand,Source Sans Pro,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;display:block;font-weight:300;font-size:100px;color:#35495e;letter-spacing:1px}.subtitle{font-weight:300;font-size:42px;color:#526488;word-spacing:5px;padding-bottom:15px}.links{padding-top:15px}",""]),t.exports=e},160:function(t,e,n){"use strict";n.r(e);function r(t){switch(t){case"convert-to-gif":return"Convert to GIF";case"convert-to-audio":return"Convert to Audio";default:return"Undefined job "+t}}var o={data:function(){return{files:[]}},methods:{labelForjob:r,jobsForType:function(t){switch(t){case"video":return["convert-to-gif","convert-to-audio"];default:return 0}},triggerFileInput:function(){this.$refs["file-input"].click()},onFileInputChange:function(t){this.files=t.target.files,this.onJobButton("convert-to-gif")},onJobButton:function(t){this.$emit("job",{files:this.files,type:t})}}},l=n(19),c=Object(l.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"w-full file-drop-gradient rounded-lg shadow-inner"},[0===this.files.length?e("div",{staticClass:"flex flex-wrap w-full justify-center content-around h-64"},[e("div",{staticClass:"w-full text-center p-5"},[e("input",{ref:"file-input",staticClass:"hidden",attrs:{type:"file",accept:"video/*"},on:{change:this.onFileInputChange}}),this._v(" "),e("button",{staticClass:"bg-indigo-700 px-4 py-2 rounded",on:{click:this.triggerFileInput}},[this._v("\n\t\t\t\tSelect a video file to get started!\n\t\t\t")])])]):this._e()])}),[],!1,null,null,null).exports;n(28),n(29),n(13),n(155);function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function v(t,p){return(v=Object.setPrototypeOf||function(t,p){return t.__proto__=p,t})(t,p)}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}var y=n(26);function w(t,e){return!e||"object"!==Object(y.a)(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function C(t,e,n){return(C=_()?Reflect.construct:function(t,e,n){var a=[null];a.push.apply(a,e);var r=new(Function.bind.apply(t,a));return n&&v(r,n.prototype),r}).apply(null,arguments)}function E(t){var e="function"==typeof Map?new Map:void 0;return(E=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return C(t,arguments,x(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),v(r,t)})(t)}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=x(t);if(e){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}var S=function(t){m(n,t);var e=k(n);function n(t){var r;return h(this,n),(r=e.call(this)).ready=!1,r.loop=!0,r.playing=!1,r.duration=0,r.currentTime=0,r.startAt=0,r.endAt=0,r.video=r._setupVideo(t),r}return f(n,[{key:"_setupVideo",value:function(t){var e=this,video=document.createElement("video");return video.src=(window.URL||window.webkitURL).createObjectURL(t),video.muted=!0,video.load(),video.onloadeddata=function(){e.duration=video.duration,e.currentTime=0,e.startAt=0,e.endAt=video.duration,e.ready=!0,e.dispatchEvent(e._createEvent("ready",{video:video}))},video.addEventListener("ended",(function(){e.loop?e.play():e.pause()})),video}},{key:"play",value:function(){this.playing=!0,this.video.currentTime=+this.startAt.toFixed(2),this.video.play(),this.dispatchEvent(this._createEvent("playing")),this._frameLoop()}},{key:"pause",value:function(){this.playing=!1,this.video.pause(),this.dispatchEvent(this._createEvent("playing"))}},{key:"getVideoState",value:function(){return{ready:this.ready,playing:this.playing,duration:this.duration,currentTime:this.currentTime,startAt:this.startAt,endAt:this.endAt}}},{key:"destroy",value:function(){this.video.pause(),this.video=null}},{key:"_createEvent",value:function(t,data){var e=new Event(t);for(var n in e.videoState=this.getVideoState(),data)e[n]=data[n];return e}},{key:"_frameLoop",value:function(){if(this.playing){if(this.video.currentTime<+this.startAt.toFixed(2))this.video.currentTime=+this.startAt.toFixed(2);else if(this.video.currentTime>this.endAt){if(!this.loop)return this.pause(),void(this.video.currentTime=+this.startAt.toFixed(2));this.video.currentTime=+this.startAt.toFixed(2)}this.currentTime=this.video.currentTime,this.dispatchEvent(this._createEvent("frame",{video:this.video})),setTimeout(this._frameLoop.bind(this),1e3/30)}}},{key:"setStartAt",value:function(time){this.startAt=time,this.currentTime<+this.startAt.toFixed(2)&&(this.currentTime=+this.startAt.toFixed(2)),this.dispatchEvent(this._createEvent("trimmed"))}},{key:"setEndAt",value:function(time){this.endAt=time,this.dispatchEvent(this._createEvent("trimmed"))}}]),n}(E(EventTarget)),L={props:{videoState:{type:Object,default:null}},data:function(t){return{tracking:null,forceHideTimecode:!1,startAt:0,endAt:0}},computed:{trimmedVideoLength:function(){return this.videoState?this.videoState.duration-(this.videoState.duration-this.videoState.endAt)-this.videoState.startAt:0},barStyle:function(){if(!this.videoState)return{left:"0px",right:"0px"};var t=this.$refs.container?this.$refs.container.clientWidth:0;return{left:"".concat(this.videoState.startAt/this.videoState.duration*t,"px"),right:"".concat(t-this.videoState.endAt/this.videoState.duration*t,"px")}},currentTimeStyle:function(){if(!this.videoState)return{transform:"translateX(0px)"};var t=this.$refs.container?this.$refs.container.clientWidth:0,e=Math.min(this.videoState.currentTime,this.videoState.endAt),n=(e=Math.max(e,this.videoState.startAt))/this.videoState.duration*t-this.videoState.startAt/this.videoState.duration*t;return{transform:"translateX(".concat(n,"px)")}}},methods:{startTrimming:function(t,e){this.tracking||(this.tracking=e)},stopTrimming:function(t){this.tracking=null},updateTrim:function(t){if(this.tracking){var rect=this.$refs.container.getBoundingClientRect(),e=t.clientX-rect.left;"start"===this.tracking?(this.startAt=function(t,e,n,r){var o=t/e*n;return o=Math.max(o,0),o=Math.min(o,(r/n-.1)*n)}(e-20,rect.width,this.videoState.duration,this.videoState.endAt),this.$emit("start",this.startAt)):"end"===this.tracking&&(this.endAt=function(t,e,n,r){var o=t/e*n;return o=Math.min(o,n),o=Math.max(o,(r/n+.1)*n)}(e+20,rect.width,this.videoState.duration,this.videoState.startAt),this.$emit("end",this.endAt)),this.checkHideTimecode()}},checkHideTimecode:function(){this.forceHideTimecode=!1,this.videoState.endAt/this.videoState.duration-this.videoState.startAt/this.videoState.duration<.3&&(this.forceHideTimecode=!0)}}},A=Object(l.a)(L,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.videoState?n("div",{ref:"container",staticClass:"relative",on:{mouseup:t.stopTrimming,mousemove:t.updateTrim}},[n("div",{staticClass:"absolute left-0 right-0 bottom-0 h-8 bg-gray-400 rounded-lg flex justify-between items-center px-1 font-bold text-gray-700",style:t.barStyle,on:{mousedown:function(e){return t.startTrimming(e,"center")}}},[n("span",{staticClass:"w-2 bg-yellow-500 absolute top-0 bottom-0",style:t.currentTimeStyle}),t._v(" "),n("span",{staticClass:"cursor-pointer select-none bg-gray-200 rounded px-2",on:{mousedown:function(e){return t.startTrimming(e,"start")}}},[t._v("\n\t\t\t||\n\t\t\t"),"start"!==t.tracking||t.forceHideTimecode?t._e():n("span",{staticClass:"text-xs pointer-events-none"},[t._v("\n\t\t\t\t"+t._s(t.startAt.toFixed(2))+"sec\n\t\t\t")])]),t._v(" "),t.forceHideTimecode?t._e():n("span",{staticClass:"cursor-default text-xs pointer-events-none select-none"},[t._v("\n\t\t\t"+t._s(t.trimmedVideoLength.toFixed(2))+"sec\n\t\t")]),t._v(" "),n("span",{staticClass:"cursor-pointer select-none bg-gray-200 rounded px-2",on:{mousedown:function(e){return t.startTrimming(e,"end")}}},["end"!==t.tracking||t.forceHideTimecode?t._e():n("span",{staticClass:"text-xs pointer-events-none"},[t._v("\n\t\t\t\t"+t._s(t.endAt.toFixed(2))+"sec\n\t\t\t")]),t._v("\n\t\t\t||\n\t\t")])])]):t._e()}),[],!1,null,null,null).exports,T={props:{videoState:Object},data:function(){return{canvasSize:{width:480,height:270}}},mounted:function(){this.canvasContext=this.$refs.canvas.getContext("2d")},methods:{onReady:function(t,video){this.canvasSize={width:video.videoWidth,height:video.videoHeight}},onFrame:function(t,video){this.canvasContext&&this.canvasContext.drawImage(video,0,0)}}},F={props:["job"],data:function(){return{videoState:null}},mounted:function(){var t=this;this.videoEditor=new S(this.job.files[0]),this.videoEditor.addEventListener("ready",(function(e){t.videoState=e.videoState,t.$refs.videoCanvas.onReady(e.videoState,e.video)})),this.videoEditor.addEventListener("playing",(function(e){t.videoState=e.videoState})),this.videoEditor.addEventListener("trimmed",(function(e){t.videoState=e.videoState})),this.videoEditor.addEventListener("frame",(function(e){t.videoState=e.videoState,t.$refs.videoCanvas.onFrame(e.videoState,e.video)}))},methods:{labelForjob:r,play:function(){this.videoEditor.play()},pause:function(){this.videoEditor.pause()},exportJob:function(){this.videoEditor.destroy(),this.videoEditor=null,this.$emit("export",{type:this.job.type,files:this.job.files,settings:{startAt:this.videoState.startAt,endAt:this.videoState.endAt}})},onCurrentTimeChanged:function(time){this.videoEditor.setCurrentTime(time)},onStartAtChanged:function(time){this.videoEditor.setStartAt(time)},onEndAtChanged:function(time){this.videoEditor.setEndAt(time)}},components:{TrimBar:A,VideoCanvas:Object(l.a)(T,(function(){var t=this.$createElement;return(this._self._c||t)("canvas",{ref:"canvas",staticClass:"bg-black mb-5",attrs:{width:this.canvasSize.width,height:this.canvasSize.height}})}),[],!1,null,null,null).exports}},j=Object(l.a)(F,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"w-full"},[n("section",{staticClass:"flex"},[n("div",{staticClass:"mr-6 w-full flex flex-wrap justify-center relative"},[n("VideoCanvas",{ref:"videoCanvas",attrs:{"video-state":t.videoState}}),t._v(" "),n("section",{staticClass:"w-full px-4 py-3 bg-white rounded-lg shadow-lg"},[n("TrimBar",{staticClass:"h-8 w-full",attrs:{"video-state":t.videoState},on:{start:t.onStartAtChanged,end:t.onEndAtChanged,current:t.onCurrentTimeChanged}})],1)],1),t._v(" "),n("aside",{staticClass:"w-1/3 p-5 flex flex-wrap content-between bg-white rounded-lg shadow-lg"},[n("section",{staticClass:"w-full"},[n("h2",{staticClass:"font-semibold text-2xl leading-none"},[t._v("\n\t\t\t\t\t"+t._s(t.labelForjob(t.job.type))+"\n\t\t\t\t")]),t._v(" "),n("h3",{staticClass:"font-semibold text-gray-500 text-xl mb-5"},[t._v(t._s(this.job.files[0].name))]),t._v(" "),n("h4",{staticClass:"mb-2 font-bold text-gray-500 text-sm"},[t._v("Actions")]),t._v(" "),n("button",{staticClass:"bg-gray-300 text-gray-700 w-full p-3 rounded font-semibold mb-3",on:{click:t.play}},[t._v("\n\t\t\t\t\tPlay / Pause\n\t\t\t\t")])]),t._v(" "),n("section",{staticClass:"w-full"},[n("button",{staticClass:"bg-indigo-500 text-white w-full p-3 rounded font-semibold",on:{click:t.exportJob}},[t._v("\n\t\t\t\t\t"+t._s(t.labelForjob(t.job.type))+"\n\t\t\t\t")])])])])])}),[],!1,null,null,null).exports,O=(n(30),n(106),n(157)),R=n.n(O);function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=x(t);if(e){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}var W=function(t){m(n,t);var e=I(n);function n(t){var r;return h(this,n),(r=e.call(this)).type=t.type,r.files=t.files,r.settings=t.settings,r.ended=!1,r.rendering=!1,r.waiting=!1,r.duration=null,r.video=null,r.gif=null,r.renderTimeoutId=null,r._setupVideo(r.files[0]),r}return f(n,[{key:"_setupVideo",value:function(t){var e=this;this.video=document.createElement("video"),this.video.src=(window.URL||window.webkitURL).createObjectURL(t),this.video.muted=!0,this.video.load(),this.video.onloadeddata=function(){e.ready=!0,e.duration=e.video.duration-(e.video.duration-e.settings.endAt)-e.settings.startAt,e.video.currentTime=e.settings.startAt,e.gif=new R.a({workers:5,workerScript:"gif.worker.js",width:e.video.videoWidth,height:e.video.videoHeight}).on("start",(function(){e.dispatchEvent(e._createEvent("start"))})).on("progress",(function(p){e.dispatchEvent(e._createEvent("progress",{status:"encoding",progress:p}))})).on("finished",(function(t){e.dispatchEvent(e._createEvent("finished",{blob:t}))})),e.dispatchEvent(e._createEvent("ready",{width:e.video.videoWidth,height:e.video.videoHeight}))},this.video.addEventListener("play",(function(){})),this.video.addEventListener("playing",(function(){})),this.video.addEventListener("canplay",(function(){e.rendering&&e.waiting&&(e.waiting=!1,e.renderTimeoutId=setTimeout(e._frameLoop.bind(e),1e3/30))})),this.video.addEventListener("ended",this._onEnded.bind(this)),this.video.addEventListener("waiting",(function(){e.rendering&&(e.waiting=!0,clearTimeout(e.renderTimeoutId),e.renderTimeoutId=null)}))}},{key:"start",value:function(){var t=this;this.rendering=!0,this.video.addEventListener("play",(function(){return t._frameLoop()}),{once:!0}),this.video.play()}},{key:"_onEnded",value:function(){this.ended=!0,this.rendering=!1,this.gif.render(),this.video.pause()}},{key:"_frameLoop",value:function(){this.ended||(this.video.currentTime>this.settings.endAt?this._onEnded():this.waiting||(this.dispatchEvent(this._createEvent("frame",{video:this.video,frame:this.frameCounter})),this.gif.addFrame(this.video,{copy:!0,delay:1e3/30*1.3}),this.frameCounter,this.video.currentTime,this.settings.endAt,this.dispatchEvent(this._createEvent("progress",{status:"render",progress:(this.video.currentTime-this.settings.startAt)/this.duration})),this.renderTimeoutId=setTimeout(this._frameLoop.bind(this),1e3/30)))}},{key:"_createEvent",value:function(t,data){var e=new Event(t);for(var n in data)e[n]=data[n];return e}}]),n}(E(EventTarget)),$={props:["job"],data:function(){return{previewSize:{width:480,height:270},status:"render",progress:0,gifDataUrl:null}},computed:{downloadFilename:function(){var t=this.job.files[0].name.split(".");return t.splice(-1,1),t.join(".")+".gif"}},methods:{convertNewVideo:function(){this.$emit("back")}},mounted:function(){var t=this,e=this.$refs.preview.getContext("2d"),n=new W(this.job);n.addEventListener("ready",(function(e){t.previewSize={width:e.width,height:e.height},n.start()})),n.addEventListener("progress",(function(e){e.progress,t.status=e.status,t.progress="render"===t.status?.5*e.progress:.5+.5*e.progress})),n.addEventListener("frame",(function(t){e.drawImage(t.video,0,0)})),n.addEventListener("finished",(function(e){e.blob,t.gifDataUrl=URL.createObjectURL(e.blob)}))}},D=Object(l.a)($,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"w-1/2 m-auto bg-white rounded-lg shadow-lg p-5 flex justify-between"},[n("section",{staticClass:"w-full flex"},[t.gifDataUrl?[n("div",{staticClass:"w-full mr-5 flex flex-wrap content-between"},[t._m(0),t._v(" "),n("div",{staticClass:"w-full flex"},[n("a",{staticClass:"bg-indigo-500 text-white text-xl font-semibold rounded px-5 py-3 w-1/2 mr-2 text-center",attrs:{href:t.gifDataUrl,download:t.downloadFilename}},[t._v("\n\t\t\t\t\t\tDownload GIF\n\t\t\t\t\t")]),t._v(" "),n("a",{staticClass:"bg-gray-200 text-gray-600 text-xl font-medium rounded px-5 py-3 w-1/2 ml-2 text-center",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.convertNewVideo(e)}}},[t._v("\n\t\t\t\t\t\tConvert new Video\n\t\t\t\t\t")])])]),t._v(" "),n("img",{staticClass:"w-1/2",attrs:{src:t.gifDataUrl}})]:[n("div",{staticClass:"w-full mr-5 flex flex-wrap content-between"},[n("div",{staticClass:"w-full"},[n("h2",{staticClass:"font-semibold text-2xl"},[t._v("\n\t\t\t\t\t\tConverting to GIF...\n\t\t\t\t\t")]),t._v(" "),n("h3",{staticClass:"text-xl mb-5 font-semibold text-gray-500"},[t._v("\n\t\t\t\t\t\t"+t._s(this.job.files[0].name)+"\n\t\t\t\t\t")])]),t._v(" "),n("div",{staticClass:"w-full bg-indigo-200 h-8 block rounded shadow overflow-hidden"},[n("div",{staticClass:"w-1/2 bg-indigo-500 h-full text-sm text-indigo-200 font-semibold flex items-center justify-center",style:{width:100*t.progress+"%"}},[n("span",[t._v(t._s((100*t.progress).toFixed(0))+"%")])])])]),t._v(" "),n("canvas",{ref:"preview",staticClass:"bg-black w-1/2",attrs:{width:t.previewSize.width,height:t.previewSize.height}})]],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"w-full"},[e("h2",{staticClass:"font-semibold text-2xl"},[this._v("\n\t\t\t\t\tYour Video was successfully converted.\n\t\t\t\t\t")]),this._v(" "),e("h3",{staticClass:"text-xl mb-5 font-semibold text-gray-500"},[this._v("\n\t\t\t\t\t\tTo download the GIF press the button below.\n\t\t\t\t\t")])])}],!1,null,null,null).exports,P=n(154),M=Object(l.a)({},(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"w-full text-center mt-10 text-sm text-indigo-700"},[this._v("\n\tAn experiment made with ❤ by "),e("a",{staticClass:"font-semibold",attrs:{href:"https://mateffy.me"}},[this._v("Lukas Mateffy.")])])}],!1,null,null,null).exports,z={data:function(){return{editJob:null,renderJob:null}},components:{FileSelector:c,VideoEditor:j,VideoRenderer:D,Header:P.a,Footer:M},methods:{onJobCreated:function(t){this.editJob=t},onEditorExport:function(t){this.renderJob=t}}},J=(n(158),Object(l.a)(z,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-gradient text-white px-16 relative antialiased min-h-screen pb-5"},[n("Header"),t._v(" "),t.editJob||t.renderJob?t.editJob&&!t.renderJob?n("div",{staticClass:"bg- text-gray-900 px-8 py-6"},[n("VideoEditor",{attrs:{job:t.editJob},on:{export:t.onEditorExport}})],1):n("div",{staticClass:"bg- text-gray-900 px-8 py-6"},[n("VideoRenderer",{attrs:{job:t.renderJob},on:{back:function(e){t.editJob=t.renderJob=null}}})],1):n("main",{staticClass:"w-1/2 flex flex-wrap m-auto"},[t._m(0),t._v(" "),n("FileSelector",{on:{job:t.onJobCreated}})],1),t._v(" "),n("Footer")],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"text-5xl text-center w-full py-16"},[t._v("\n\t\t\tConvert \n\t\t\t"),n("span",{staticClass:"font-mono bg-gray-800 rounded px-1 inline-flex relative overflow-hidden"},[n("span",{staticClass:"opacity-0 pointer-events-none"},[t._v(".webm")]),t._v(" "),n("span",{staticClass:"absolute inset-0 file-ext"},[t._v(".mp4")]),t._v(" "),n("span",{staticClass:"absolute inset-0 file-ext",staticStyle:{"animation-delay":"2s"}},[t._v(".mov")]),t._v(" "),n("span",{staticClass:"absolute inset-0 file-ext",staticStyle:{"animation-delay":"4s"}},[t._v(".webm")]),t._v(" "),n("span",{staticClass:"absolute inset-0 file-ext",staticStyle:{"animation-delay":"6s"}},[t._v(".avi")]),t._v(" "),n("span",{staticClass:"absolute inset-0 file-ext",staticStyle:{"animation-delay":"8s"}},[t._v(".flv")])]),t._v("  to \n\t\t\t"),n("span",{staticClass:"font-mono bg-gray-800 rounded px-1 inline-flex relative overflow-hidden"},[t._v(".gif")]),n("br"),t._v("\n\t\t\tin your browser!\n\t\t")])}],!1,null,null,null));e.default=J.exports}}]);